webpackJsonp([15],{NgbG:function(e,t){},rKPw:function(e,t,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=d("rb8n"),r=d("A+nQ"),a={components:{HeadMenu:l.a},data:()=>({wordTreeList:[],wordDefaultProps:{children:"child",label:"title"},wordTreeMsg:{fatherId:null,fqaspId:null,nodeType:null,nodeChild:[],title:""},treeList:[],defaultProps:{children:"child",label:"title"},treeMsg:{fqaspId:null,nodeType:null,nodeChild:[],title:""},dialogNewWord:!1,dialogUpdateWord:!1,dialogDisplayContent:!1,wordAdd:{title:"",fWordId:null,where:[]},wordAddWhere:{qpid:null,type:null,value:null,replate:""},wordSelectWhere:[],wordSelectWhereThead:{qpid:"问题",type:"条件",value:"值",replate:"替换",control:"操作"},formLabelWidth:"80px",dataFilterValueArr:[],TiaoJianList:[{title:"大于",value:"3"},{title:"等于",value:"1"},{title:"小于",value:"2"},{title:"小于等于",value:"4"},{title:"大于等于",value:"5"},{title:"不等于",value:"6"}],selectOnlyLisg:[],selectGuiZeArr:[]}),mounted(){this.selectTree(),this.wordSelectTree()},methods:{selectTree(){Object(r.L)().then(e=>{this.treeList=e.data.data}).catch(e=>{console.log("请求失败")})},handleTreeJieDian(){this.treeMsg.fqaspId=this.$refs.tree.currentNode.node.data.id,this.treeMsg.nodeType=this.$refs.tree.currentNode.node.data.type,this.treeMsg.nodeChild=this.$refs.tree.currentNode.node.data.child,this.treeMsg.title=this.$refs.tree.currentNode.node.data.title},wordSelectTree(){Object(r._6)(5).then(e=>{this.wordTreeList=e.data.data}).catch(e=>{console.log("组合规则获取失败")})},handleWordTreeJieDian(){this.wordTreeMsg.fatherId=this.$refs.wordtree.currentNode.node.data.fWordId,this.wordTreeMsg.fqaspId=this.$refs.wordtree.currentNode.node.data.id,this.wordTreeMsg.nodeType=this.$refs.wordtree.currentNode.node.data.type,this.wordTreeMsg.nodeChild=this.$refs.wordtree.currentNode.node.data.child,this.wordTreeMsg.title=this.$refs.wordtree.currentNode.node.data.title},addNewWord(){this.dialogNewWord=!0},addWhere(){"{}"==JSON.stringify(this.wordAdd.where)?(this.wordAdd.where.splice(1,1),this.wordAdd.where.push(this.wordAddWhere),this.wordAddWhere={}):(this.wordAdd.where.push(this.wordAddWhere),this.wordAddWhere={})},addWordOk(){this.wordAdd.where=JSON.stringify(this.wordAdd.where),null==this.wordTreeMsg.fqaspId?Object(r.i)({title:this.wordAdd.title,fWordId:0,where:this.wordAdd.where}).then(e=>{this.wordAdd.title="",this.wordAdd.where=[],this.wordSelectTree(),localStorage.removeItem("pid"),this.dialogNewWord=!1,console.log("成功")}):Object(r.i)({title:this.wordAdd.title,fWordId:this.wordTreeMsg.fqaspId,where:this.wordAdd.where}).then(e=>{this.wordSelectTree(),this.wordAdd.title="",this.wordAdd.where=[],this.wordTreeMsg.fqaspId=null,localStorage.removeItem("pid"),this.dialogNewWord=!1,console.log("成功")})},dataFilter(e){Object(r.K)("title="+e).then(e=>{this.dataFilterValueArr=e.data.data.data}).catch(e=>{})},selectOnlyQuestion(){localStorage.setItem("pid",this.wordAddWhere.qpid),Object(r.H)().then(e=>{this.selectOnlyLisg=e.data.child}).catch(e=>{})},updateWordAlert(){this.dialogUpdateWord=!0,this.wordAdd.title=this.wordTreeMsg.title,localStorage.setItem("fWordId",this.wordTreeMsg.fqaspId),Object(r._5)().then(e=>{this.wordAdd.where=JSON.parse(e.data.data.where)}).catch(e=>{})},updateWordOk(){this.wordAdd.where.push(this.wordAddWhere),this.wordAddWhere={},this.wordAdd.where=JSON.stringify(this.wordAdd.where),Object(r.V)({title:this.wordAdd.title,fWordId:this.wordTreeMsg.fatherId,where:this.wordAdd.where}).then(e=>{this.wordSelectTree(),this.wordAdd.title="",this.wordAdd.where=[],this.wordTreeMsg.fqaspId=null,localStorage.removeItem("pid"),localStorage.removeItem("fWordId"),this.dialogUpdateWord=!1,console.log("成功")})},deleteWord(e){this.wordAdd.where.splice(e,1)},editDisplayContent(){this.dialogDisplayContent=!0,localStorage.setItem("fWordId",this.wordTreeMsg.fqaspId),Object(r._5)().then(e=>{this.selectGuiZeArr=e.data.data.json,console.log(this.selectGuiZeArr)}).catch(e=>{})},editSelectGuiZe(e){console.log("本身的id是"+e.id),console.log("本身的wid是"+e.wid),console.log("是否显示"+e.type)}}},i={render:function(){var e=this,t=e.$createElement,d=e._self._c||t;return d("div",[d("head-menu"),e._v(" "),d("div",{staticClass:"container mx-auto flex"},[d("div",{staticClass:"w-1/2"},[d("div",{staticClass:"border border-1 rounded"},[d("h2",{staticClass:"text-xl py-2"},[e._v("离婚协议书组合规则")]),e._v(" "),d("div",{staticClass:"h-40 overflow-scroll"},[d("el-tree",{ref:"wordtree",attrs:{data:e.wordTreeList,"default-expand-all":"","node-key":"id","empty-text":"加载中，请稍后！","highlight-current":"",props:e.wordDefaultProps},on:{"node-click":function(t){return e.handleWordTreeJieDian()}}})],1),e._v(" "),d("div",{staticClass:"w-2/3 text-left flex justify-around"},[d("el-button",{attrs:{type:"primary",plain:""},on:{click:e.addNewWord}},[e._v("新增组合")]),e._v(" "),d("el-button",{attrs:{type:"primary",plain:""},on:{click:e.updateWordAlert}},[e._v("修改组合")]),e._v(" "),d("el-button",{attrs:{type:"primary",plain:""},on:{click:e.editDisplayContent}},[e._v("编辑显示内容")])],1)])]),e._v(" "),d("div"),e._v(" "),d("div",{staticClass:"w-1/2"},[d("div",{staticClass:"border border-1 rounded"},[d("h2",{staticClass:"text-xl py-2"},[e._v("离婚协议书")]),e._v(" "),d("div",{staticClass:"h-40 overflow-scroll"},[d("el-tree",{ref:"tree",attrs:{data:e.treeList,"default-expand-all":"","node-key":"id","empty-text":"加载中，请稍后！","highlight-current":"",props:e.defaultProps},on:{"node-click":function(t){return e.handleTreeJieDian()}}})],1)])])]),e._v(" "),d("el-dialog",{attrs:{title:"新增组合",visible:e.dialogNewWord},on:{"update:visible":function(t){e.dialogNewWord=t}}},[d("el-form",{attrs:{model:e.wordAdd}},[d("el-form-item",{staticClass:"mb-1",attrs:{label:"组合名称","label-width":e.formLabelWidth}},[d("el-input",{staticClass:"w-1/2",attrs:{autocomplete:"off"},model:{value:e.wordAdd.title,callback:function(t){e.$set(e.wordAdd,"title",t)},expression:"wordAdd.title"}})],1),e._v(" "),d("div",[d("span",{staticClass:"h-1"})]),e._v(" "),d("el-form-item",{attrs:{label:"问题","label-width":e.formLabelWidth}},[d("el-select",{attrs:{filterable:"","filter-method":e.dataFilter,placeholder:"请选择"},on:{change:e.selectOnlyQuestion},model:{value:e.wordAddWhere.qpid,callback:function(t){e.$set(e.wordAddWhere,"qpid",t)},expression:"wordAddWhere.qpid"}},e._l(e.dataFilterValueArr,function(e){return d("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),e._v(" "),d("el-form-item",{attrs:{label:"条件","label-width":e.formLabelWidth}},[d("el-select",{attrs:{placeholder:"请选择"},model:{value:e.wordAddWhere.type,callback:function(t){e.$set(e.wordAddWhere,"type",t)},expression:"wordAddWhere.type"}},e._l(e.TiaoJianList,function(e){return d("el-option",{key:e.value,attrs:{label:e.title,value:e.value}})}),1)],1),e._v(" "),d("el-form-item",{attrs:{label:"绑定的值","label-width":e.formLabelWidth}},[d("el-select",{attrs:{placeholder:"选择绑定的值"},model:{value:e.wordAddWhere.value,callback:function(t){e.$set(e.wordAddWhere,"value",t)},expression:"wordAddWhere.value"}},e._l(e.selectOnlyLisg,function(e,t){return d("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),d("el-form-item",{staticClass:"mb-1",attrs:{label:"替换","label-width":e.formLabelWidth}},[d("el-input",{staticClass:"w-1/2",attrs:{autocomplete:"off"},model:{value:e.wordAddWhere.replate,callback:function(t){e.$set(e.wordAddWhere,"replate",t)},expression:"wordAddWhere.replate"}})],1)],1),e._v(" "),d("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[d("el-button",{on:{click:function(t){e.dialogNewWord=!1}}},[e._v("取 消")]),e._v(" "),d("el-button",{attrs:{type:"primary"},on:{click:e.addWordOk}},[e._v("确 定")])],1)],1),e._v(" "),d("el-dialog",{attrs:{title:"修改组合",visible:e.dialogUpdateWord},on:{"update:visible":function(t){e.dialogUpdateWord=t}}},[d("el-form",{attrs:{model:e.wordAdd}},[d("el-form-item",{staticClass:"mb-1",attrs:{label:"组合名称","label-width":e.formLabelWidth}},[d("el-input",{staticClass:"w-1/2",attrs:{autocomplete:"off"},model:{value:e.wordAdd.title,callback:function(t){e.$set(e.wordAdd,"title",t)},expression:"wordAdd.title"}})],1),e._v(" "),d("div",[d("span",{staticClass:"h-1"})]),e._v(" "),d("el-form-item",{attrs:{label:"问题","label-width":e.formLabelWidth}},[d("el-select",{attrs:{filterable:"","filter-method":e.dataFilter,placeholder:"请选择"},on:{change:e.selectOnlyQuestion},model:{value:e.wordAddWhere.qpid,callback:function(t){e.$set(e.wordAddWhere,"qpid",t)},expression:"wordAddWhere.qpid"}},e._l(e.dataFilterValueArr,function(e){return d("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1),e._v(" "),d("el-form-item",{attrs:{label:"条件","label-width":e.formLabelWidth}},[d("el-select",{attrs:{placeholder:"请选择"},model:{value:e.wordAddWhere.type,callback:function(t){e.$set(e.wordAddWhere,"type",t)},expression:"wordAddWhere.type"}},e._l(e.TiaoJianList,function(e){return d("el-option",{key:e.value,attrs:{label:e.title,value:e.value}})}),1)],1),e._v(" "),d("el-form-item",{attrs:{label:"绑定的值","label-width":e.formLabelWidth}},[d("el-select",{attrs:{placeholder:"选择绑定的值"},model:{value:e.wordAddWhere.value,callback:function(t){e.$set(e.wordAddWhere,"value",t)},expression:"wordAddWhere.value"}},e._l(e.selectOnlyLisg,function(e,t){return d("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),d("el-form-item",{staticClass:"mb-1",attrs:{label:"替换","label-width":e.formLabelWidth}},[d("el-input",{staticClass:"w-1/2",attrs:{autocomplete:"off"},model:{value:e.wordAddWhere.replate,callback:function(t){e.$set(e.wordAddWhere,"replate",t)},expression:"wordAddWhere.replate"}})],1),e._v(" "),d("div",{staticClass:"my-2"},[d("el-button",{on:{click:e.addWhere}},[e._v("确定")])],1)],1),e._v(" "),d("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[d("el-button",{on:{click:function(t){e.dialogUpdateWord=!1}}},[e._v("取 消")]),e._v(" "),d("el-button",{attrs:{type:"primary"},on:{click:e.updateWordOk}},[e._v("确 定")])],1),e._v(" "),d("div",{staticClass:"text-center"},[d("table",{staticClass:"w-full"},[d("thead",[d("tr",e._l(e.wordSelectWhereThead,function(t){return d("td",{key:t.index,staticClass:"headstyle w-1/6 text-center border text-black font-bold py-2"},[e._v(e._s(t))])}),0)]),e._v(" "),d("tbody",e._l(this.wordAdd.where,function(t,l){return d("tr",{key:l},[d("td",{staticClass:"border text-black"},[e._v(e._s(t.qpid))]),e._v(" "),d("td",{staticClass:"border text-black"},[e._v(e._s(t.title))]),e._v(" "),d("td",{staticClass:"border text-black"},[e._v(e._s(t.value))]),e._v(" "),d("td",{staticClass:"border text-black"},[e._v(e._s(t.replate))]),e._v(" "),d("td",{staticClass:"border text-black justify-around"},[d("div",{staticClass:"flex justify-around py-2 w-2/3 mx-auto"},[d("el-button",{attrs:{type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return e.deleteWord(l)}}})],1)])])}),0)])])],1),e._v(" "),d("el-dialog",{attrs:{title:"",visible:e.dialogDisplayContent},on:{"update:visible":function(t){e.dialogDisplayContent=t}}},[d("el-form",{attrs:{model:e.wordAdd}},[d("h2",{staticClass:"text-xl py-1"},[e._v(e._s(this.wordTreeMsg.title))]),e._v(" "),d("div",{staticClass:"w-full text-right"},[d("el-button",{attrs:{type:"primary"}},[e._v("新增显示规则")])],1),e._v(" "),d("div",[d("ul",e._l(this.selectGuiZeArr,function(t,l){return d("li",{key:l},[d("div",{staticClass:"flex justify-between bg-blue-100 rounded-sm my-2"},[d("div",{staticClass:"w-4/5 text-left my-2 mx-2 h-105"},e._l(JSON.parse(t.json),function(t,l){return d("div",{key:l},[d("p",[e._v(e._s(t))])])}),0),e._v(" "),d("div",{staticClass:"w-1/5 text-center"},[d("el-button",{attrs:{type:"primary",plain:"",size:"mini",id:"edit_bt"},on:{click:function(d){return e.editSelectGuiZe(t)}}},[e._v("编辑")]),e._v(" "),d("el-button",{attrs:{type:"warning",plain:"",size:"mini",id:"delete_bt"}},[e._v("删除")]),e._v(" "),d("el-button",{attrs:{type:"info",plain:"",size:"mini",id:"display_bt"}},[e._v("显示")])],1)])])}),0)])])],1)],1)},staticRenderFns:[]};var o=d("VU/8")(a,i,!1,function(e){d("NgbG")},"data-v-b6c5b68c",null);t.default=o.exports}});
//# sourceMappingURL=15.d3825b03353ccbf37a3d.js.map