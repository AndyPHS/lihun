webpackJsonp([19],{PBED:function(e,t){},nO0R:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("eFNP"),a={name:"Article",data:()=>({SetKesDept:{value:"id",label:"title",children:"data",checkStrictly:!0},activeIndex:"1",tableData:[],status:1,fenleiAll:[],selectFenLei:null,fullscreenLoading:!1}),mounted(){this.getFenlei(),this.getFenLeiList()},methods:{getFenlei(){Object(s.o)().then(e=>{this.fenleiAll=e.data})},goBackList(){this.status=1,this.getFenLeiList()},getFenLeiList(){2===this.selectFenLei.length?this.selectFenLei=this.selectFenLei[1]:this.selectFenLei=this.selectFenLei[0],this.fullscreenLoading=!0,null!=this.selectFenLei?Object(s.p)({status:1,faId:this.selectFenLei}).then(e=>{this.tableData=e.data.data,this.fullscreenLoading=!1,this.selectFenLei=null}):Object(s.q)({status:1}).then(e=>{this.tableData=e.data.data,this.fullscreenLoading=!1})},deleteAction(){this.fullscreenLoading=!0,this.tableData=[],this.status=9,null!=this.selectFenLei?Object(s.p)({status:9,faId:this.selectFenLei}).then(e=>{this.fullscreenLoading=!1,this.tableData=e.data.data,this.selectFenLei=null}):Object(s.q)({status:9}).then(e=>{this.fullscreenLoading=!1,this.tableData=e.data.data})},deleteNewsAction(e,t){this.$confirm("确认删除此文章?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{Object(s.f)({id:t.id}).then(t=>{this.tableData.splice(e,1),this.$message({type:"success",message:"删除成功!"})})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},updateNewsAction(e,t){this.$router.push({path:"/ArticleUpload",name:"ArticleUpload",params:{rows:t.id}})},reviewAction(e,t){this.$confirm("确认恢复此文章?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{Object(s.m)({id:t.id}).then(t=>{this.tableData.splice(e,1),this.$message({type:"success",message:"恢复成功!"})})}).catch(()=>{this.$message({type:"info",message:"取消恢复"})})}}},l={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"article_all"},[i("div",{staticClass:"flex justify-between items-center"},[i("el-menu",{staticClass:"el-menu-demo w-1/3",attrs:{"default-active":e.activeIndex,mode:"horizontal"}},[i("el-submenu",{attrs:{index:"1"}},[i("template",{slot:"title"},[e._v("文章管理")]),e._v(" "),i("el-menu-item",{attrs:{index:"1-1"}},[e._v("分类列表")]),e._v(" "),i("el-menu-item",{attrs:{index:"1-2"}},[i("router-link",{attrs:{to:"FenLeiOperate"}},[e._v("分类管理")])],1)],2),e._v(" "),i("el-menu-item",{attrs:{index:"2"}},[i("router-link",{attrs:{to:"UserList"}},[e._v("用户管理")])],1)],1),e._v(" "),i("div",{staticClass:"w-1/3 flex searchBox"},[i("el-form",{ref:"form",attrs:{"label-width":"70px"}},[i("el-form-item",{attrs:{label:"选择分类"}},[i("el-cascader",{attrs:{clearable:"",options:e.fenleiAll,props:e.SetKesDept},on:{change:function(t){return e.getFenLeiList()}},model:{value:e.selectFenLei,callback:function(t){e.selectFenLei=t},expression:"selectFenLei"}})],1)],1)],1)],1),e._v(" "),9==e.status?i("div",{staticClass:"flex w-1/3 float-left"},[i("span",{staticClass:"px-2 py-2 cursor-pointer hover:text-blue-500 text-sm",on:{click:e.goBackList}},[e._v("返回文章列表")])]):e._e(),e._v(" "),i("div",{staticClass:"flex w-1/3 float-right"},[i("el-button",{staticClass:"mr-3",attrs:{type:"primary",size:"mini",plain:""}},[i("router-link",{attrs:{to:"ArticleUpload"}},[e._v("上传新文章")])],1),e._v(" "),i("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary",size:"mini",icon:"el-icon-delete"},on:{click:e.deleteAction}})],1),e._v(" "),i("div",{staticClass:"mt-10"},[i("el-main",[i("el-table",{attrs:{data:e.tableData,stripe:"",height:"500","header-row-style":{height:"40px"},"row-style":{height:"40px"}}},[i("el-table-column",{attrs:{prop:"id",label:"ID",width:"100",height:"50"}}),e._v(" "),i("el-table-column",{attrs:{prop:"title",label:"文章名标题",width:"300"}}),e._v(" "),i("el-table-column",{attrs:{prop:"actionTitle",label:"文章分类",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"createdTime",label:"上传时间",width:"150"}}),e._v(" "),9==e.status?i("el-table-column",{attrs:{prop:"updateTime",label:"删除时间",width:"100"}}):e._e(),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:1==e.status?"300":"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==e.status?i("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:function(i){return e.updateNewsAction(t.$index,t.row)}}},[e._v("编辑文章")]):e._e(),e._v(" "),1==e.status?i("el-button",{attrs:{type:"danger",size:"mini",round:""},on:{click:function(i){return e.deleteNewsAction(t.$index,t.row)}}},[e._v("删除文章")]):e._e(),e._v(" "),9==e.status?i("el-button",{attrs:{type:"primary",size:"mini",round:""},on:{click:function(i){return e.reviewAction(t.$index,t.row)}}},[e._v("恢复文章")]):e._e()]}}])})],1)],1)],1)])},staticRenderFns:[]};var n=i("VU/8")(a,l,!1,function(e){i("PBED")},"data-v-76dfaf52",null);t.default=n.exports}});
//# sourceMappingURL=19.3f37ea762461aeebabd8.js.map