webpackJsonp([25],{"3ZrP":function(t,e){},V9Ot:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("rb8n"),a=s("A+nQ"),l={components:{HeadMenu:i.a},data:()=>({labelArr:[],keyWordArr:[],IfEdit:!0,Edit:!1,isKeyWord:null,dialogAddLabelContent:!1,dialogAddLabel:!1,dialogAddKeyWord:!1,dialogContenBox:!1,formLabelWidth:"150px",addLabelMsg:{title:"",description:""},addLabelContentMsg:{description:""},addKeyWordMsg:{flId:null,title:"",description:""},ContenBox:{id:null,title:"",keyTitle:"",keyid:null,content:[]},ins:null,clickTimer:null}),mounted(){this.getLabel(),this.getKeyWord()},methods:{getLabel(){Object(a.F)({status:1}).then(t=>{200==t.data.status_code?this.labelArr=t.data.data:this.$message({message:"标签获取失败",type:"error"})}).catch(t=>{this.$message({message:"标签获取失败，请联系后台管理人员",type:"error"})})},getKeyWord(){Object(a.E)({status:2,flId:0}).then(t=>{200==t.data.status_code?this.keyWordArr=t.data.data:this.$message({message:"标签获取失败",type:"error"})}).catch(t=>{this.$message({message:"标签获取失败，请联系后台管理人员",type:"error"})})},goBackWenJuan(){this.$router.replace("/wenjuan")},checkAllLabel(){console.log(1)},addLabelBtn(){this.dialogAddLabel=!0},cancelAddLabel(){this.dialogAddLabel=!1},AddLabelOk(){Object(a.e)({qid:localStorage.getItem("qid"),flid:0,title:this.addLabelMsg.title}).then(t=>{200==t.data.status_code&&(localStorage.setItem("qlid",t.data.data),Object(a.a)({content:this.addLabelMsg.description}).then(t=>{this.$message({message:"添加成功",type:"success"}),this.dialogAddLabel=!1,this.addLabelMsg.title="",this.addLabelMsg.description="",this.getLabel()}).catch(t=>{this.$message({message:"添加失败，请联系管理员",type:"error"})})),console.log(t.data)}).catch(t=>{})},addKeyWordBtn(){this.dialogAddKeyWord=!0},cancelAddKeyWord(){this.dialogAddKeyWord=!1},openKeyWordMsg(t,e){this.isKeyWord=2,this.dialogContenBox=!0,this.ContenBox.keyTitle=t.title,this.ContenBox.keyid=t.id},AddKeyWordOk(){Object(a.e)({qid:localStorage.getItem("qid"),flid:this.addKeyWordMsg.flId,title:this.addKeyWordMsg.title}).then(t=>{200==t.data.status_code&&(localStorage.setItem("qlid",t.data.data),Object(a.a)({content:this.addKeyWordMsg.description}).then(t=>{this.$message({message:"添加成功",type:"success"}),this.dialogAddKeyWord=!1,this.addKeyWordMsg.title="",this.addKeyWordMsg.description="",this.getLabel()}).catch(t=>{this.$message({message:"添加失败，请联系管理员",type:"error"})})),console.log(t.data)}).catch(t=>{})},getLabelKeyWord(t,e){this.addKeyWordMsg.flId=t.id,this.ins=e,this.clickTimer&&(window.clearTimeout(this.clickTimer),this.clickTimer=null),this.clickTimer=window.setTimeout(function(){},300),Object(a.E)({status:2,flId:t.id}).then(t=>{this.keyWordArr=t.data.data}).catch(t=>{this.$message({message:"标签获取失败，请联系后台管理人员",type:"error"})})},openLabelMsg(t,e){this.isKeyWord=1,this.clickTimer&&(window.clearTimeout(this.clickTimer),this.clickTimer=null),this.ContenBox.id=t.id,this.ContenBox.title=t.title,this.dialogContenBox=!0,Object(a.G)({qlid:t.id}).then(t=>{200==t.data.status_code?this.ContenBox.content=t.data.data:this.$message({message:"标签内容获取失败，请联系后台管理人员",type:"error"})}).catch(t=>{})},editTitle(){0==this.IfEdit?(this.IfEdit=!0,this.Edit=!1):1==this.IfEdit&&(this.IfEdit=!1,this.Edit=!0)},editLabel(){localStorage.setItem("qlid",this.ContenBox.id),Object(a.Q)({qid:localStorage.getItem("qid"),flid:0,title:this.ContenBox.title}).then(t=>{200==t.data.status_code?(this.$message({message:"标签修改成功",type:"success"}),this.getLabel()):this.$message({message:"标签修改失败",type:"error"})}).catch(t=>{})},editKeyWord(){localStorage.setItem("qlid",this.addKeyWordMsg.flId),Object(a.Q)({qid:localStorage.getItem("qid"),flid:this.ContenBox.keyid,title:this.ContenBox.keyTitle}).then(t=>{200==t.data.status_code?this.$message({message:"关键词修改成功",type:"success"}):this.$message({message:"关键词修改失败",type:"error"})}).catch(t=>{})},addLabelContentBtn(){this.dialogAddLabelContent=!0,1==this.isKeyWord?localStorage.setItem("qlid",this.ContenBox.id):2==this.isKeyWord&&localStorage.setItem("qlid",this.ContenBox.keyid)},cancelAddLabelContent(){this.dialogAddLabelContent=!1},AddLabelContentOk(){Object(a.a)({content:this.addLabelContentMsg.description}).then(t=>{200==t.data.status_code?(this.$message({message:"添加成功",type:"success"}),this.ContenBox.content.push({content:this.addLabelContentMsg.description}),this.addLabelContentMsg.description="",this.dialogAddLabelContent=!1):this.$message({message:"添加失败",type:"error"})}).catch(t=>{})},deleteLabelContentBtn(t,e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{Object(a.o)({qldid:t.id}).then(t=>{200==t.data.status_code&&this.ContenBox.content.splice(e,1)}).catch(t=>{this.$message({type:"error",message:"删除失败"})})}).catch(()=>{this.$message({type:"info",message:"已取消删除"})})},deleteLabelBtn(t,e){this.labelArr.splice(e,1),localStorage.setItem("qlid",t.id),Object(a.n)().then(t=>{}).catch(t=>{})},deleteKeyWordBtn(t,e){this.keyWordArr.splice(e,1),localStorage.setItem("qlid",t.id),Object(a.m)().then(t=>{}).catch(t=>{})}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("head-menu"),t._v(" "),s("div",{staticClass:"container mx-auto text-left mt-4"},[s("span",{staticClass:"underline cursor-pointer",on:{click:t.goBackWenJuan}},[t._v("返回问卷列表")]),t._v(" "),s("span",{staticClass:"inline-block text-white ml-2 px-2 py-1 bg-blue-500 cursor-pointer rounded hover:bg-blue-800",on:{click:t.checkAllLabel}},[t._v("查看所有标签")])]),t._v(" "),s("div",{staticClass:"container mx-auto flex mt-4"},[s("div",{staticClass:"w-1/2"},[s("h3",{staticClass:"text-lg"},[t._v("离婚起诉状标签池"),s("i",{staticClass:"el-icon-circle-plus-outline ml-2",on:{click:t.addLabelBtn}})]),t._v(" "),s("div",{staticClass:"con"},[s("ul",{staticClass:"text-left"},t._l(t.labelArr,function(e,i){return s("span",{key:i,staticClass:"px-2 py-1 text-white bg-blue-300 inline-block rounded mx-2 mt-2",class:{active:i==t.ins}},[s("span",{on:{dblclick:function(s){return t.openLabelMsg(e,i)},click:function(s){return t.getLabelKeyWord(e,i)}}},[t._v(t._s(e.title))]),s("i",{staticClass:"el-icon-close ml-2 cursor-pointer",on:{click:function(s){return t.deleteLabelBtn(e,i)}}})])}),0)])]),t._v(" "),s("div",{staticClass:"w-1/2"},[s("h3",{staticClass:"text-lg"},[t._v("离婚起诉状关键词池"),s("i",{staticClass:"el-icon-circle-plus-outline ml-2",on:{click:t.addKeyWordBtn}})]),t._v(" "),s("div",{staticClass:"con"},[s("ul",{staticClass:"text-left"},t._l(t.keyWordArr,function(e,i){return s("span",{key:i,staticClass:"px-2 py-1 text-white bg-blue-300 inline-block rounded mx-2 mt-2"},[s("span",{on:{dblclick:function(s){return t.openKeyWordMsg(e,i)}}},[t._v(t._s(e.title))]),s("i",{staticClass:"el-icon-close ml-2 cursor-pointer",on:{click:function(s){return t.deleteKeyWordBtn(e,i)}}})])}),0)])])]),t._v(" "),s("el-dialog",{attrs:{title:"新增标签",visible:t.dialogAddLabel},on:{"update:visible":function(e){t.dialogAddLabel=e}}},[s("el-form",{attrs:{model:t.addLabelMsg}},[s("el-form-item",{staticClass:"mb-1",attrs:{label:"标签名称","label-width":t.formLabelWidth}},[s("el-input",{staticClass:"w-1/2",attrs:{autocomplete:"off"},model:{value:t.addLabelMsg.title,callback:function(e){t.$set(t.addLabelMsg,"title",e)},expression:"addLabelMsg.title"}})],1),t._v(" "),s("el-form-item",{staticClass:"mb-1",attrs:{label:"文本描述","label-width":t.formLabelWidth}},[s("el-input",{staticClass:"w-1/2",attrs:{type:"textarea",rows:"3",autocomplete:"off"},model:{value:t.addLabelMsg.description,callback:function(e){t.$set(t.addLabelMsg,"description",e)},expression:"addLabelMsg.description"}})],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.cancelAddLabel}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.AddLabelOk}},[t._v("确 定")])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"新增关键词",visible:t.dialogAddKeyWord},on:{"update:visible":function(e){t.dialogAddKeyWord=e}}},[s("el-form",{attrs:{model:t.addKeyWordMsg}},[s("el-form-item",{staticClass:"mb-1",attrs:{label:"关键词名称","label-width":t.formLabelWidth}},[s("el-input",{staticClass:"w-1/2",attrs:{autocomplete:"off"},model:{value:t.addKeyWordMsg.title,callback:function(e){t.$set(t.addKeyWordMsg,"title",e)},expression:"addKeyWordMsg.title"}})],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.cancelAddKeyWord}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.AddKeyWordOk}},[t._v("确 定")])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"",visible:t.dialogContenBox},on:{"update:visible":function(e){t.dialogContenBox=e}}},[s("div",{staticClass:"flex"},[1==this.isKeyWord?s("h2",{staticClass:"text-left ml-2 text-base font-bold"},[t._v("标签名称："),s("span",{directives:[{name:"show",rawName:"v-show",value:t.IfEdit,expression:"IfEdit"}]},[t._v(t._s(this.ContenBox.title))]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.Edit,expression:"Edit"}],staticClass:"inline-block"},[s("el-form",{attrs:{model:t.ContenBox}},[s("el-input",{attrs:{size:"medium",type:"text",autocomplete:"off"},on:{blur:t.editLabel},model:{value:t.ContenBox.title,callback:function(e){t.$set(t.ContenBox,"title",e)},expression:"ContenBox.title"}})],1)],1)]):t._e(),t._v(" "),2==this.isKeyWord?s("h2",{staticClass:"text-left ml-2 text-base font-bold"},[t._v("关键词名称："),s("span",{directives:[{name:"show",rawName:"v-show",value:t.IfEdit,expression:"IfEdit"}]},[t._v(t._s(this.ContenBox.keyTitle))]),t._v(" "),s("span",{directives:[{name:"show",rawName:"v-show",value:t.Edit,expression:"Edit"}],staticClass:"inline-block"},[s("el-form",{attrs:{model:t.ContenBox}},[s("el-input",{attrs:{size:"medium",type:"text",autocomplete:"off"},on:{blur:t.editKeyWord},model:{value:t.ContenBox.keyTitle,callback:function(e){t.$set(t.ContenBox,"keyTitle",e)},expression:"ContenBox.keyTitle"}})],1)],1)]):t._e(),t._v(" "),s("div",{staticClass:"text-lg ml-2"},[s("i",{staticClass:"el-icon-edit",on:{click:t.editTitle}}),t._v(" "),s("i",{staticClass:"el-icon-circle-plus-outline",on:{click:t.addLabelContentBtn}})])]),t._v(" "),s("div",{staticClass:"w-5/6 mx-auto"},[s("ul",{staticClass:"text-left overflow-y-auto"},t._l(t.ContenBox.content,function(e,i){return s("li",{key:i,staticClass:"mt-2 py-1 px-1 text-base hover:bg-blue-300"},[t._v(t._s(e.content)),s("i",{staticClass:"el-icon-remove-outline ml-2 cursor-pointer hover:text-white",on:{click:function(s){return t.deleteLabelContentBtn(e,i)}}})])}),0)])]),t._v(" "),s("el-dialog",{attrs:{title:"新增标签内容",visible:t.dialogAddLabelContent},on:{"update:visible":function(e){t.dialogAddLabelContent=e}}},[s("el-form",{attrs:{model:t.addLabelContentMsg}},[s("el-form-item",{staticClass:"mb-1",attrs:{label:"文本描述","label-width":t.formLabelWidth}},[s("el-input",{staticClass:"w-1/2",attrs:{type:"textarea",rows:"3",autocomplete:"off"},model:{value:t.addLabelContentMsg.description,callback:function(e){t.$set(t.addLabelContentMsg,"description",e)},expression:"addLabelContentMsg.description"}})],1)],1),t._v(" "),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.cancelAddLabelContent}},[t._v("取 消")]),t._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:t.AddLabelContentOk}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var d=s("VU/8")(l,o,!1,function(t){s("3ZrP")},"data-v-4b0c2078",null);e.default=d.exports}});
//# sourceMappingURL=25.0b84ea8ae75c59f7729a.js.map